{"title":"docker_私有镜像","zzzContent":"docker 安装:\n\nlinux下安装docker registroy:\nwget -qO- https://get.docker.com/ | sh\nsudo service docker start\n\nsudo docker run -d -p 5000:5000  -v /opt/sdc/docker-hub:/tmp/registry  registry\n\n\n## 在mac 下创建 (从boot2docker 迁移)\n\n```bash\n docker-machine create  --driver virtualbox --engine-insecure-registry docker.162cm.net --virtualbox-import-boot2docker-vm boot2docker-vm  dev\n``` \n\n## nginx 层做一个代理:\n\n```conf\nserver {\n    listen       80 ;\n    server_name docker.162cm.net;\n    root   /home/app/gogs/;\n    error_page   500 502 503 504  /50x.html;\n    index  index.html index.htm index-test.php;\n    location / {\n      proxy_pass   http://localhost:5000;\n\t\tproxy_set_header  Host           $http_host;\n\t\tproxy_set_header  X-Real-IP      $remote_addr;\n\t\tproxy_set_header  Authorization  \"\";\n\t\tproxy_read_timeout               900;\n    }\n}\n```\n\n\n\n\n#将一个本地的image 打标并上传到registry\n\n","postDate":"2018-01-01 02:03:35","postId":14,"type":"post","status":"publish","imported":false,"file":"docker_私有镜像.md"}